-- Script de emergencia para poblar stock AHORA
-- Ejecutar inmediatamente en SQL Editor

-- Verificar stock actual
SELECT product_id, warehouse_id, quantity FROM stock LIMIT 5;

-- Si está vacío, insertar stock de seed.sql
INSERT INTO stock (warehouse_id, product_id, quantity) VALUES
-- Tienda Principal
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440001', 15),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440002', 8),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440003', 12),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440004', 10),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440005', 6),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440006', 20),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440007', 15),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440008', 5),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440009', 18),
('TIENDA_PRINCIPAL', 'a50e8400-e29b-41d4-a716-446655440010', 8),
-- Tienda Secundaria
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440001', 10),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440002', 5),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440003', 8),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440004', 7),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440005', 4),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440006', 12),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440007', 10),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440008', 3),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440009', 12),
('TIENDA_SECUNDARIA', 'a50e8400-e29b-41d4-a716-446655440010', 6)
ON CONFLICT (warehouse_id, product_id) DO UPDATE SET
  quantity = EXCLUDED.quantity;

-- Verificar que se insertó
SELECT warehouse_id, COUNT(*) as productos, SUM(quantity) as total_stock
FROM stock
GROUP BY warehouse_id;
